Version 4
SHEET 1 880 680
WIRE 480 -16 208 -16
WIRE 64 32 -80 32
WIRE 208 32 208 -16
WIRE 208 32 128 32
WIRE 240 48 160 48
WIRE 384 48 320 48
WIRE 480 64 480 -16
WIRE -80 80 -80 32
WIRE 64 80 64 32
WIRE 208 96 208 32
WIRE 304 96 208 96
WIRE 304 112 304 96
WIRE 272 128 208 128
WIRE 384 144 384 48
WIRE 384 144 336 144
WIRE 160 160 160 48
WIRE 272 160 160 160
WIRE 64 176 64 160
WIRE 160 176 160 160
WIRE 160 176 64 176
WIRE 480 176 480 144
WIRE 64 192 64 176
WIRE -80 208 -80 160
WIRE 304 208 304 176
WIRE 208 224 208 128
WIRE 64 304 64 272
WIRE 208 336 208 304
FLAG 64 304 0
FLAG 208 336 0
FLAG 304 208 0
FLAG 480 176 0
FLAG -80 208 0
SYMBOL res 48 64 R0
SYMATTR InstName R3
SYMATTR Value 120k
SYMBOL res 48 176 R0
SYMATTR InstName R4
SYMATTR Value 30k
SYMBOL voltage 208 208 R0
SYMATTR InstName VRef
SYMATTR Value 2.5V
SYMBOL res 336 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 350k
SYMBOL res 496 160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL diode 64 48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL voltage -80 64 R0
WINDOW 3 -108 178 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL(0 9 1 14 2 9)
SYMATTR InstName V2
SYMBOL Opamps\\opamp2 304 80 R0
SYMATTR InstName U1
SYMATTR Value LM2904
TEXT 24 -80 Left 2 !.lib LM2904.cir
TEXT 232 -80 Left 2 !.tran 3
